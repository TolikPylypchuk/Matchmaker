<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
      <title>Introduction | Matchmaker </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Introduction | Matchmaker ">
      
      
      <link rel="icon" href="favicon.ico">
      <link rel="stylesheet" href="public/docfx.min.css">
      <link rel="stylesheet" href="public/main.css">
      <meta name="docfx:navrel" content="toc.html">
      <meta name="docfx:tocrel" content="articles/toc.html">
      
      <meta name="docfx:rel" content="">
      
      
      <meta name="docfx:docurl" content="https://github.com/TolikPylypchuk/Matchmaker/blob/main/docs/index.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="index.html">
            <img id="logo" class="svg" src="logo.svg" alt="Matchmaker">
            Matchmaker
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="introduction">Introduction</h1>

<p>Matchmaker is a library which enables more powerful pattern matching than is currently available in the C#'s <code>switch</code>
statement/expression.</p>
<h2 id="installation">Installation</h2>
<pre><code>dotnet add package Matchmaker
</code></pre>
<h2 id="a-simple-example">A Simple Example</h2>
<p>This is what the simplest match expression looks like:</p>
<pre><code>using static Matchmaker.Patterns.Pattern;

// ...

string result =
    Match.Create&lt;int, string&gt;()
        .Case(EqualTo(1), _ =&gt; &quot;one&quot;)
        .Case(EqualTo(2), _ =&gt; &quot;two&quot;)
        .Case(EqualTo(3), _ =&gt; &quot;three&quot;)
        .Case(EqualTo(4), _ =&gt; &quot;four&quot;)
        .Case(Any&lt;int&gt;(), i =&gt; i.ToString())
        .ExecuteOn(5);
</code></pre>
<p><code>EqualTo</code> is a predefined pattern.</p>
<p>This is what an equivalent <code>switch</code> statement looks like (pre-C# 8):</p>
<pre><code>string result;
int i = 5;

switch (i)
{
    case 1:
        result = &quot;one&quot;;
        break;
    case 2:
        result = &quot;two&quot;;
        break;
    case 3:
        result = &quot;three&quot;;
        break;
    case 4:
        result = &quot;four&quot;;
        break;
    default:
        result = i.ToString();
        break;
}
</code></pre>
<p>While this example doesn't show the full power of pattern matching, there are a few things to note here:</p>
<ul>
<li>The match expression yields a result. We don't have to assign the result explicitly in each case.</li>
<li>The input of the match expression is specified <em>after</em> all the cases. This allows us to save the match expression
in an object and use it multiple times on different input values.</li>
<li>The default case is a pattern, just like any other. It's called <code>Any</code> and is always matched successfully.</li>
<li>Like in <code>switch</code> the patterns are tried out sequentially. This means that the <code>Any</code> pattern should always
come last.</li>
</ul>
<p>C# 8 included a new way to write <code>switch</code> expressions which yield a value, and C# 9 extended it quite a bit. This
drastically reduced the need for external libraries like this one for pattern matching. However, this library lets the
user define arbitrary patterns, which makes this library more powerful than the <code>switch</code> expressions.</p>
<p>Here's what the equivalent switch expression looks like in C# 8:</p>
<pre><code>int i = 5;

string result = i switch
{
    1 =&gt; &quot;one&quot;,
    2 =&gt; &quot;two&quot;,
    3 =&gt; &quot;three&quot;,
    4 =&gt; &quot;four&quot;,
    _ =&gt; i.ToString()
};
</code></pre>
<p>OK, this is much shorter and cleaner than the previous two examples. But this library shines when the patterns are
more complex. While C# allowes various kinds of patterns, this library allows anything you can think about.</p>
<h2 id="performance">Performance</h2>
<p>Versions 1.x used the DLR to provide type-safe pattern matching on any types without having to remember all those types.
Thus, the performance was <em>much</em> worse than C#'s switch statements/expressions (even though I didn't perform any
benchmarks).</p>
<p>Versions 2+ of this library don't use the DLR anymore - I've found a better way to do this, and frankly, I'm amazed I
didn't think of this way before. So, I'm guessing the performance of the new versions must be much better than versions
1.x.</p>
<h2 id="more-info">More Info</h2>
<p>If you want to learn how to use this library, you should read these articles. They provide everything you need to know
to use this library.</p>
<p>If you need extensive information, go to the <a href="api/index.html">API reference</a>.</p>
<p>If you need even more info about this library, you can go through the
<a href="https://github.com/TolikPylypchuk/Matchmaker/tree/v3.0.0/Matchmaker.Tests">tests</a>. They are property-based and as such
they describe every aspect of the classes and their members. They cover 100% of this library's code (except
the <code>MatchException</code> class which is trivial).</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/TolikPylypchuk/Matchmaker/blob/main/docs/index.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Created by <a href="https://tolik.io">Tolik Pylypchuk</a>. Docs made with <a href="https://dotnet.github.io/docfx">docfx</a></span>.
        </div>
      </div>
    </footer>
  </body>
</html>
